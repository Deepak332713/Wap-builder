import tkinter as tk
from tkinter import messagebox, ttk
from PIL import Image, ImageTk

class EarningApp:
    def __init__(self, root):
        self.root = root
        self.root.title("Mega Cash - Earning App")
        self.root.geometry("400x650")
        self.root.configure(bg="#f0f2f5")

        # ‡§Ø‡•Ç‡§ú‡§∞ ‡§°‡•á‡§ü‡§æ
        self.user_name = "Rahul Kumar"
        self.balance = 500.00  # ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§‡•Ä ‡§¨‡•à‡§≤‡•á‡§Ç‡§∏ (Coins/Rupees)

        self.create_widgets()

    def create_widgets(self):
        # --- 1. ‡§á‡§Æ‡•á‡§ú ‡§∏‡•á‡§ï‡•ç‡§∂‡§® (Banner) ---
        try:
            # ‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡•Ä ‡§á‡§Æ‡•á‡§ú ‡§´‡§æ‡§á‡§≤ ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§¶‡•á‡§Ç, ‡§ú‡•à‡§∏‡•á 'banner.png'
            self.img = Image.open("banner.png") 
            self.img = self.img.resize((380, 150))
            self.banner_img = ImageTk.PhotoImage(self.img)
            self.banner_label = tk.Label(self.root, image=self.banner_img, bg="#f0f2f5")
            self.banner_label.pack(pady=10)
        except:
            self.banner_label = tk.Label(self.root, text="Earn Daily Rewards!", font=("Arial", 18, "bold"), 
                                         bg="#4CAF50", fg="white", height=5, width=35)
            self.banner_label.pack(pady=10)

        # --- 2. ‡§Ø‡•Ç‡§ú‡§∞ ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ (User Profile) ---
        user_frame = tk.Frame(self.root, bg="white", bd=1, relief="groove")
        user_frame.pack(fill="x", padx=20, pady=5)
        
        tk.Label(user_frame, text=f"üë§ {self.user_name}", font=("Arial", 12, "bold"), bg="white").pack(side="left", padx=10, pady=10)
        self.balance_label = tk.Label(user_frame, text=f"Balance: ‚Çπ{self.balance}", font=("Arial", 12), fg="green", bg="white")
        self.balance_label.pack(side="right", padx=10)

        # --- 3. ‡§ü‡§æ‡§∏‡•ç‡§ï ‡§´‡•ã‡§≤‡•ç‡§°‡§∞ (Tasks Section) ---
        tk.Label(self.root, text="‡§Ü‡§ú ‡§ï‡•á ‡§ü‡§æ‡§∏‡•ç‡§ï (Daily Tasks)", font=("Arial", 14, "bold"), bg="#f0f2f5").pack(anchor="w", padx=20, pady=10)
        
        task_container = tk.Frame(self.root, bg="#f0f2f5")
        task_container.pack(fill="both", padx=20)

        tasks = [("Watch Video", 10), ("Daily Check-in", 5), ("Spin Wheel", 15)]
        for task_name, reward in tasks:
            btn = tk.Button(task_container, text=f"{task_name} (+‚Çπ{reward})", 
                            command=lambda r=reward: self.complete_task(r),
                            font=("Arial", 10), bg="white", relief="flat", pady=8)
            btn.pack(fill="x", pady=3)

        # --- 4. ‡§µ‡§ø‡§°‡•ç‡§∞‡•â ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ (Withdraw Section) ---
        tk.Label(self.root, text="‡§µ‡§ø‡§°‡•ç‡§∞‡•â (Withdraw Money)", font=("Arial", 14, "bold"), bg="#f0f2f5").pack(anchor="w", padx=20, pady=15)
        
        self.amount_entry = tk.Entry(self.root, font=("Arial", 14), justify="center")
        self.amount_entry.pack(fill="x", padx=40, pady=5)
        self.amount_entry.insert(0, "Enter Amount")

        withdraw_btn = tk.Button(self.root, text="Redeem to UPI / Wallet", command=self.withdraw_money,
                                 bg="#FF5722", fg="white", font=("Arial", 12, "bold"), pady=10)
        withdraw_btn.pack(fill="x", padx=40, pady=10)

    # ‡§≤‡•â‡§ú‡§ø‡§ï: ‡§ü‡§æ‡§∏‡•ç‡§ï ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡§®‡§æ
    def complete_task(self, reward):
        self.balance += reward
        self.update_ui()
        messagebox.showinfo("Success", f"‡§¨‡§ß‡§æ‡§à ‡§π‡•ã! ‡§Ü‡§™‡§®‡•á ‚Çπ{reward} ‡§ú‡•Ä‡§§ ‡§≤‡§ø‡§è ‡§π‡•à‡§Ç‡•§")

    # ‡§≤‡•â‡§ú‡§ø‡§ï: ‡§µ‡§ø‡§°‡•ç‡§∞‡•â ‡§ï‡§∞‡§®‡§æ
    def withdraw_money(self):
        try:
            amt = float(self.amount_entry.get())
            if amt <= self.balance and amt >= 100:
                self.balance -= amt
                self.update_ui()
                messagebox.showinfo("Withdrawal", f"‚Çπ{amt} ‡§ï‡§æ ‡§µ‡§ø‡§°‡•ç‡§∞‡•â ‡§∞‡§ø‡§ï‡•ç‡§µ‡•á‡§∏‡•ç‡§ü ‡§∏‡§´‡§≤ ‡§∞‡§π‡§æ!")
            elif amt < 100:
                messagebox.showwarning("Error", "‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‡§µ‡§ø‡§°‡•ç‡§∞‡•â ‚Çπ100 ‡§π‡•à‡•§")
            else:
                messagebox.showerror("Error", "‡§Ö‡§™‡§∞‡•ç‡§Ø‡§æ‡§™‡•ç‡§§ ‡§¨‡•à‡§≤‡•á‡§Ç‡§∏!")
        except ValueError:
            messagebox.showerror("Error", "‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§π‡•Ä ‡§Ö‡§Ç‡§ï ‡§≠‡§∞‡•á‡§Ç‡•§")

    def update_ui(self):
        self.balance_label.config(text=f"Balance: ‚Çπ{self.balance}")

if __name__ == "__main__":
    root = tk.Tk()
    app = EarningApp(root)
    root.mainloop()
              
