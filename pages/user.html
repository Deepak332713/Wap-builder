<div style="animation: fadeIn 0.4s ease-out; padding-bottom: 20px;">
    
    <div style="text-align: center; background: white; padding: 25px 20px; border-radius: 25px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); position: relative;">
        
        <div style="position: relative; width: 100px; height: 100px; margin: 0 auto 15px;">
            <img id="user-photo" src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" 
                 style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 4px solid #6c5ce7; padding: 3px;">
            
            <label for="photo-input" style="position: absolute; bottom: 0; right: 0; background: #6c5ce7; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">
                <i class="fas fa-camera" style="font-size: 14px;"></i>
            </label>
            <input type="file" id="photo-input" accept="image/*" style="display: none;" onchange="uploadPhoto(event)">
        </div>

        <h3 id="display-name" style="margin: 5px 0; color: #2d3436; font-size: 20px;">Guest User</h3>
        <span style="background: #f0edff; color: #6c5ce7; padding: 4px 12px; border-radius: 20px; font-size: 11px; font-weight: bold; letter-spacing: 1px;">ID: #MEP2026</span>
        
        <div style="margin-top: 15px;">
            <button onclick="editName()" style="background: none; border: 1px solid #ddd; color: #636e72; padding: 6px 20px; border-radius: 20px; font-size: 12px; transition: 0.3s; cursor: pointer;">
                <i class="fas fa-pen"></i> Edit Profile
            </button>
        </div>
    </div>

    <div style="margin-top: 20px; background: white; border-radius: 20px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.03);">
        <h4 style="margin: 0 0 15px 0; color: #2d3436;"><i class="fas fa-headset" style="color: #6c5ce7;"></i> स्मार्ट हेल्प सेंटर</h4>
        <div id="help-box" style="height: 120px; overflow-y: auto; background: #f8f9fa; border-radius: 12px; padding: 10px; font-size: 13px; color: #636e72; margin-bottom: 10px; border: 1px solid #eee;">
            <p style="margin: 5px 0; color: #6c5ce7;"><b>Support Bot:</b> नमस्ते! मैं आपकी क्या सहायता कर सकता हूँ?</p>
        </div>
        <div style="display: flex; gap: 8px;">
            <input type="text" id="help-query" placeholder="सवाल लिखें..." style="flex: 1; padding: 10px; border-radius: 10px; border: 1px solid #ddd; outline: none; font-size: 13px;">
            <button onclick="askSupport()" style="background: #6c5ce7; color: white; border: none; padding: 10px 15px; border-radius: 10px; cursor: pointer;"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <div style="margin-top: 20px; background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.03);">
        <div class="menu-item" style="padding: 18px 20px; border-bottom: 1px solid #f8f9fa; display: flex; align-items: center; justify-content: space-between; cursor: pointer;">
            <span style="color: #2d3436; font-size: 14px;"><i class="fas fa-wallet" style="width: 25px; color: #00b894;"></i> मेरी कमाई की हिस्ट्री</span>
            <i class="fas fa-chevron-right" style="color: #dfe6e9; font-size: 12px;"></i>
        </div>
        <div class="menu-item" style="padding: 18px 20px; border-bottom: 1px solid #f8f9fa; display: flex; align-items: center; justify-content: space-between; cursor: pointer;">
            <span style="color: #2d3436; font-size: 14px;"><i class="fas fa-lock" style="width: 25px; color: #0984e3;"></i> अकाउंट सिक्योरिटी</span>
            <i class="fas fa-chevron-right" style="color: #dfe6e9; font-size: 12px;"></i>
        </div>
        <div onclick="location.reload()" style="padding: 18px 20px; text-align: center; color: #d63031; font-weight: bold; font-size: 14px; cursor: pointer;">
            <i class="fas fa-power-off"></i> लॉग आउट
        </div>
    </div>
</div>

<script>
    // 1. फोटो अपलोड फंक्शन
    function uploadPhoto(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('user-photo').src = e.target.result;
                localStorage.setItem('userPhoto', e.target.result); // फोटो सेव करना
            };
            reader.readAsDataURL(file);
        }
    }

    // 2. नाम बदलने का फंक्शन
    function editName() {
        let newName = prompt("अपना नाम लिखें:", document.getElementById('display-name').innerText);
        if (newName) {
            document.getElementById('display-name').innerText = newName;
            localStorage.setItem('userName', newName);
        }
    }

    // 3. स्मार्ट हेल्प सेंटर लॉजिक (Auto-Response)
    function askSupport() {
        let q = document.getElementById('help-query').value.toLowerCase();
        let box = document.getElementById('help-box');
        
        if(q.trim() === "") return;

        // यूजर का मैसेज दिखाना
        box.innerHTML += `<p style="margin: 5px 0; text-align: right;"><b>You:</b> ${q}</p>`;
        
        let reply = "माफ़ करें, मैं समझ नहीं पाया। कृपया 'पैसे', 'विड्रॉ' या 'टास्क' लिखकर पूछें।";
        
        if(q.includes("पैसे") || q.includes("कमाई")) reply = "आप 'टास्क' सेक्शन में जाकर ऐप इंस्टॉल और सर्वे से पैसे कमा सकते हैं।";
        if(q.includes("विड्रॉ") || q.includes("withdraw")) reply = "न्यूनतम विड्रॉ ₹100 है, जो 24 घंटे में आपके बैंक/UPI में आ जाता है।";
        if(q.includes("नमस्ते") || q.includes("hello")) reply = "नमस्ते! मैं आपकी क्या मदद कर सकता हूँ?";

        // सपोर्ट का रिप्लाई
        setTimeout(() => {
            box.innerHTML += `<p style="margin: 5px 0; color: #6c5ce7;"><b>Support Bot:</b> ${reply}</p>`;
            box.scrollTop = box.scrollHeight; // ऑटो स्क्रॉल नीचे
        }, 500);

        document.getElementById('help-query').value = ""; // इनपुट साफ़ करना
    }

    // पेज लोड होने पर डेटा रिकवर करना
    if(localStorage.getItem('userPhoto')) document.getElementById('user-photo').src = localStorage.getItem('userPhoto');
    if(localStorage.getItem('userName')) document.getElementById('display-name').innerText = localStorage.getItem('userName');
</script>
